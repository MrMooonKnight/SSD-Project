{% extends "base.html" %}

{% block title %}Chat - VibeChat{% endblock %}

{% block content %}
<div class="chat-container">
    <div class="chat-sidebar">
        <div class="sidebar-header">
            <h2>VibeChat</h2>
            <div class="user-info">
                <span id="userEmail"></span>
                <button id="logoutBtn" class="btn btn-small">Logout</button>
            </div>
        </div>
        
        <div class="contacts-section">
            <div class="section-header">
                <h3>Contacts</h3>
                <button id="addContactBtn" class="btn btn-small">+ Add</button>
            </div>
            <div id="contactsList" class="contacts-list"></div>
        </div>
    </div>
    
    <div class="chat-main">
        <div id="noChatSelected" class="no-chat-selected">
            <p>Select a contact to start chatting</p>
        </div>
        
        <div id="chatWindow" class="chat-window" style="display: none;">
            <div class="chat-header">
                <h3 id="chatContactName"></h3>
                <span id="chatContactEmail"></span>
            </div>
            <div id="messagesContainer" class="messages-container"></div>
            <div class="message-input-container">
                <input type="text" id="messageInput" placeholder="Type a message..." />
                <button id="sendBtn" class="btn btn-primary">Send</button>
            </div>
        </div>
    </div>
</div>

<!-- Add Contact Modal -->
<div id="addContactModal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Add Contact</h2>
        <form id="addContactForm">
            <div class="form-group">
                <label for="contactEmail">Email</label>
                <input type="email" id="contactEmail" name="contactEmail" required>
            </div>
            <button type="submit" class="btn btn-primary">Add Contact</button>
            <div id="contactError" class="error-message"></div>
        </form>
    </div>
</div>

<script src="{{ url_for('static', filename='js/crypto.js') }}"></script>
<script src="{{ url_for('static', filename='js/chat.js') }}"></script>
{% endblock %}

